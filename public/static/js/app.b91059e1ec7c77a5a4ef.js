webpackJsonp([0],{"4R0J":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],i={render:n,staticRenderFns:a};e.a=i},DICR:function(t,e,s){"use strict";e.a={name:"app"}},Hf0q:function(t,e,s){t.exports=s.p+"static/img/player_logo1.52a19f4.png"},IaTK:function(t,e,s){"use strict";e.a={}},M93x:function(t,e,s){"use strict";function n(t){s("TryY")}var a=s("DICR"),i=s("4R0J"),r=s("46Yf"),o=n,c=r(a.a,i.a,!1,o,null,null);e.a=c.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("MVSX"),a=s("M93x"),i=s("YaEn");n.a.config.productionTip=!1,new n.a({el:"#app",router:i.a,template:"<App/>",components:{App:a.a}})},TryY:function(t,e){},YaEn:function(t,e,s){"use strict";var n=s("MVSX"),a=s("zO6J"),i=s("dZxv");s("a1wS");n.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"music",component:i.a}]})},a1wS:function(t,e,s){"use strict";function n(){this.fontSize=Number(window.getComputedStyle(document.getElementsByTagName("html")[0]).fontSize.replace("px","")),this.init()}n.prototype={setFontSize:function(){var t=document.documentElement,e=t.getBoundingClientRect().width;e>500&&(e=500);var s=e/20;t.style.fontSize=s+"px";var n=Number(window.getComputedStyle(document.getElementsByTagName("html")[0]).fontSize.replace("px",""));s!==n&&(t.style.fontSize=s*(s/n)+"px"),this.fontSize=s},ready:function(){var t=void 0,e=this;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(e.setFontSize.bind(e),300)},!1)},init:function(){this.setFontSize(),this.ready()},px2rem:function(t){return 20/375*t},rem2px:function(t){return t*this.fontSize},resetPx:function(t){return this.rem2px(this.px2rem(t))}},e.a=new n},btu5:function(t,e,s){"use strict";var n=s("tra3"),a=s.n(n),i=s("pDHY"),r=s("a1wS");e.a={data:function(){return{musicName:"",songList:[],data:"",musicId:"",musicUrl:"",singer:"",width:"",height:"",showLyrics:!1,isPlaying:!1,song_name:"橙子音乐",author_name:"易子程",lyrics:[],playTime:"00:00",allTime:"00:00",showTime:!1,isLight:!1,currentIndex:"",showBank:!1,loading:!0}},components:{loading:i.a},created:function(){this.getData("")},mounted:function(){var t=this;setInterval(function(){t.loading=!1},4e3);var e=document.querySelector("#audio"),s=document.querySelector("#bar"),n=document.querySelector("#progress"),i=document.querySelector("#control"),o=void 0,c=void 0,u=void 0,l=void 0;e.loop=!1,e.addEventListener("timeupdate",function(){var d=e.currentTime/e.duration;s.style.width=n.offsetWidth*d+"px",i.style.left=n.offsetWidth*d-10+"px",isNaN(e.duration)||(u=Math.floor(Math.floor(e.duration)/60),l=Math.floor(e.duration)%60,t.allTime=(u>9?u:"0"+u)+":"+(l>9?l:"0"+l)),Math.floor(e.currentTime)<10?t.playTime="00:0"+Math.floor(e.currentTime):Math.floor(e.currentTime)>=10&&Math.floor(e.currentTime)<60?t.playTime="00:"+Math.floor(e.currentTime):(o=Math.floor(Math.floor(e.currentTime)/60),c=Math.floor(e.currentTime)%60,t.playTime=(o>9?o:"0"+o)+":"+(c>9?c:"0"+c));for(var m=0;m<t.lyrics.length;m++)e.currentTime>t.lyrics[m].time&&(t.isLight=m,a()(".lyricsBar").css("top",r.a.resetPx(150)-m*r.a.resetPx(30)))},!1)},methods:{getData:function(t){var e=this;"热歌榜"===t?a.a.ajax({url:"/rank/info/?rankid=8888&page=1&json=true",type:"GET",dataType:"json",success:function(t){e.data=t.songs,e.songList=e.data.list,e.showLyrics=!1,e.showBank=!0},error:function(){console.log(arguments)}}):"新歌榜"===t?a.a.ajax({url:"/rank/info/?rankid=27&page=1&json=true",type:"GET",dataType:"json",success:function(t){e.data=t.songs,e.songList=e.data.list,e.showLyrics=!1,e.showBank=!0},error:function(){console.log(arguments)}}):a.a.ajax({url:"/song_search_v2?keyword="+t+"&page=1&clientver=&platform=WebFilter",type:"GET",dataType:"json",success:function(t){e.data=t.data,e.songList=e.data.lists,e.showBank=!1,e.showLyrics=!1},error:function(){console.log(arguments)}})},setMusicUrl:function(t){var e=this;e.currentIndex=t,e.lyrics=[],e.showBank?e.musicId=e.songList[t].hash:e.musicId=e.songList[t].FileHash;var s=document.querySelector("#audio");a.a.ajax({url:"/yy/index.php?r=play/getdata&hash="+e.musicId,type:"GET",dataType:"json",success:function(t){e.musicUrl=t.data.play_url,s.load(),e.isPlaying=!1,e.showName=!0,e.song_name=t.data.song_name,e.author_name=t.data.author_name,e.showLyrics=!0;var n=t.data.lyrics.split("\r\n");e.render(n),a()(".lyricsBar").css("top",r.a.resetPx(150))},error:function(){console.log(arguments)}})},play:function(){var t=document.querySelector("#audio");this.isPlaying||(t.play(),document.addEventListener("WeixinJSBridgeReady",function(){t.play()},!1),this.isPlaying=!0,this.showTime=!0)},stop:function(){var t=document.querySelector("#audio");this.isPlaying&&(t.pause(),this.isPlaying=!1)},render:function(t){var e=/\[\d{2}:\d{2}.\d{2}\]/g,s=this;for(var n in t)if(""!==t[n]){var a={},i="",r="",o="";i=t[n].match(e),r=i[0],o=r.slice(1,-1).split(":"),a.time=60*parseInt(o[0],10)+parseFloat(o[1]),a.lyricsStr=t[n].replace(e,""),s.lyrics.push(a)}},canplaythrough:function(){this.play()},musicEnd:function(t){var e=t.target,s=this;s.isPlaying=!1,e.currentTime=0,++s.currentIndex,s.currentIndex>=s.songList.length&&(s.currentIndex=0),s.setMusicUrl(s.currentIndex)},next:function(){var t=document.querySelector("#audio"),e=this;e.isPlaying=!1,t.currentTime=0,++e.currentIndex,e.currentIndex>=e.songList.length&&(e.currentIndex=0),e.setMusicUrl(e.currentIndex)},back:function(){var t=document.querySelector("#audio"),e=this;e.isPlaying=!1,t.currentTime=0,--e.currentIndex,e.currentIndex<0&&(e.currentIndex=e.songList.length-1),e.setMusicUrl(e.currentIndex)}}}},dZxv:function(t,e,s){"use strict";function n(t){s("e439")}var a=s("btu5"),i=s("u4+3"),r=s("46Yf"),o=n,c=r(a.a,i.a,!1,o,"data-v-46263b4e",null);e.a=c.exports},e439:function(t,e){},pDHY:function(t,e,s){"use strict";function n(t){s("scLM")}var a=s("IaTK"),i=s("qJhY"),r=s("46Yf"),o=n,c=r(a.a,i.a,!1,o,"data-v-360a7119",null);e.a=c.exports},qJhY:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("div",[s("div",{staticClass:"logo"}),t._v(" "),s("div",{staticClass:"name"},[t._v("橙子音乐")]),t._v(" "),s("div",{staticClass:"donghua"})])])}],i={render:n,staticRenderFns:a};e.a=i},scLM:function(t,e){},"u4+3":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("loading"):t._e(),t._v(" "),n("div",{staticClass:"wrapper",attrs:{id:"main"}},[n("img",{staticClass:"player_logo",attrs:{src:s("Hf0q"),alt:""}}),t._v(" "),n("div",{staticClass:"audioBar"},[n("div",{staticClass:"showName"},[n("p",{staticClass:"songName"},[t._v(t._s(t.song_name))]),t._v(" "),n("p",{staticClass:"authorName"},[t._v(t._s(t.author_name))])]),t._v(" "),t._m(0),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],staticClass:"time"},[n("div",[t._v(t._s(t.playTime))]),t._v(" "),n("div",[t._v(t._s(t.allTime))])]),t._v(" "),n("audio",{attrs:{id:"audio",src:t.musicUrl,controlsList:"nodownload",preload:"auto",autoplay:"autoplay"},on:{ended:function(e){t.musicEnd(e)},canplay:t.canplaythrough}},[t._v("\n        亲 您的浏览器不支持html5的audio标签\n      ")])]),t._v(" "),n("s",{staticClass:"line"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.musicName,expression:"musicName"}],staticClass:"searchBox",attrs:{type:"text",placeholder:"歌曲/歌手"},domProps:{value:t.musicName},on:{input:function(e){e.target.composing||(t.musicName=e.target.value)}}}),t._v(" "),n("button",{staticClass:"searchBtn",on:{click:function(e){t.getData(t.musicName)}}},[t._v("搜索")]),t._v(" "),n("div",{class:{songListLy:t.showLyrics,songList:!t.showLyrics}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLyrics,expression:"showLyrics"}],staticClass:"lyrics"},[n("div",{staticClass:"lyricsBar"},t._l(t.lyrics,function(e,s){return n("p",{class:{light:t.isLight===s}},[t._v(t._s(e.lyricsStr))])}))]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:!t.showLyrics,expression:"!showLyrics"}]},t._l(t.songList,function(e,s){return n("li",{directives:[{name:"show",rawName:"v-show",value:t.songList,expression:"songList"}],on:{click:function(e){t.setMusicUrl(s)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBank,expression:"!showBank"}],staticClass:"musicBar"},[n("p",[t._v(t._s(e.SongName))]),t._v(" "),n("p",[t._v(t._s(e.SingerName))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showBank,expression:"showBank"}],staticClass:"musicBar"},[n("p",[t._v(t._s(e.filename))])])])}))]),t._v(" "),n("div",{staticClass:"audioTool"},[n("div",{staticClass:"skipBtn back",on:{click:function(e){t.next()}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"btn playBtn",attrs:{id:"playBtn"},on:{click:function(e){t.play()}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"btn pauseBtn",on:{click:function(e){t.stop()}}}),t._v(" "),n("div",{staticClass:"skipBtn next",on:{click:function(e){t.back()}}})])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"progress"}},[s("span",{attrs:{id:"bar"}},[s("div",{attrs:{id:"control"}})])])}],i={render:n,staticRenderFns:a};e.a=i}},["NHnr"]);
//# sourceMappingURL=app.b91059e1ec7c77a5a4ef.js.map